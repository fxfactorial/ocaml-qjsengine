# -*- conf -*-
OASISFormat:   0.4
Name:          qjsengine
Version:       0.0.1
Synopsis:      OCaml bindings to QJSEngine
Authors:       Edgar Aroutiounian <edgar.factorial@gmail.com>
Maintainers:   Edgar Aroutiounian <edgar.factorial@gmail.com>
Homepage:      https://github.com/fxfactorial/ocaml-qjsengine
License:       BSD-3-clause
OCamlVersion:  >= 4.03.0
AlphaFeatures: ocamlbuild_more_args
Plugins:       META (0.4), DevFiles (0.4)
BuildTools:    ocamlbuild, ocamldoc
Description: Create, Control, Execute JavaScript values directly in OCaml. 

Library qjsengine
  Path: src
  Modules: QJSEngine
  install: true
  if system(macosx)
    CCOpt: -g -Wall -std=c++14 -x c++ -fPIC -stdlib=libc++
  else
    CCOpt: -std=c++11 -x c++ -fPIC -stdlib=libc++

  NativeOpt: -g -w +a-4-40..42-44-45-48
  ByteOpt: -g -w +a-4-40..42-44-45-48
  CSources: qjsengine_stubs.c

# Library ppx
#   FindlibName: ppx
#   FindlibParent: javascriptcore
#   Path: src/ppx
#   Modules: Ppx_jsc
#   CompiledObject: native
#   BuildDepends: compiler-libs
#   XMETADescription: New-style (ppx) syntax extension
#   XMETARequires:    javascriptcore
#   XMETAExtraLines:  ppx = "ppx_javascriptcore"

SourceRepository master
  Type:     git
  Location: https://github.com/fxfactorial/ocaml-qjsengine.git
  Browser:  https://github.com/fxfactorial/ocaml-qjsengine

# Document api
#   Title:              Documentation and API reference for qjsengine
#   Type:               ocamlbuild (0.4)
#   BuildTools+:        ocamldoc
#   InstallDir:         $htmldir/qjsengine
#   PostCommand:        cp doc/style.css api.docdir
#   XOCamlbuildPath:    doc
#   XOCamlbuildModules: src/QJSEngine
#   Install:            true
#   XOCamlbuildExtraArgs:
#     "-docflags '-colorize-code -charset utf-8 -hide QJSEngine -hide Pervasives'"
