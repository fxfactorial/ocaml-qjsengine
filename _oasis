# -*- conf -*-
OASISFormat:   0.4
Name:          qjsengine
Version:       0.0.1
Synopsis:      OCaml bindings to QJSEngine
Authors:       Edgar Aroutiounian <edgar.factorial@gmail.com>
Maintainers:   Edgar Aroutiounian <edgar.factorial@gmail.com>
Homepage:      https://github.com/fxfactorial/ocaml-qjsengine
License:       BSD-3-clause
OCamlVersion:  >= 4.03.0
AlphaFeatures: ocamlbuild_more_args
Plugins:       META (0.4), DevFiles (0.4)
BuildTools:    ocamlbuild, ocamldoc
Description: Create, Control, Execute JavaScript values directly in OCaml. 

Library qjsengine
  Path: src
  Modules: QJSEngine
  install: true
  CCOpt: -g -Wall -Wextra -fsanitize=address -fno-omit-frame-pointer -fsanitize=undefined-trap -fsanitize-undefined-trap-on-error -std=c++11 -x c++ -stdlib=libc++ ${ccopts}
  CClib: -lc++ ${cclibs}
  NativeOpt: -g -w +a-4-40..42-44-45-48
  ByteOpt: -g -w +a-4-40..42-44-45-48
  CSources:
    qjsengine_values.h, qjsengine_stubs.c, qjsengine_values.c

# Executable server
#   Path: examples
#   BuildTools:ocamlbuild
#   install: false
#   MainIs: main.ml
#   CompiledObject: native
#   NativeOpt: -g -w +a-4-40..42-44-45-48
#   ByteOpt: -g -w +a-4-40..42-44-45-48
#   BuildDepends: qjsengine

# Library ppx
#   FindlibName: ppx
#   FindlibParent: javascriptcore
#   Path: src/ppx
#   Modules: Ppx_jsc
#   CompiledObject: native
#   BuildDepends: compiler-libs
#   XMETADescription: New-style (ppx) syntax extension
#   XMETARequires:    javascriptcore
#   XMETAExtraLines:  ppx = "ppx_javascriptcore"

SourceRepository master
  Type:     git
  Location: https://github.com/fxfactorial/ocaml-qjsengine.git
  Browser:  https://github.com/fxfactorial/ocaml-qjsengine

Document api
  Title:              Documentation and API reference for qjsengine
  Type:               ocamlbuild (0.4)
  BuildTools+:        ocamldoc
  InstallDir:         $htmldir/qjsengine
  PostCommand:        cp doc/style.css api.docdir
  XOCamlbuildPath:    doc
  XOCamlbuildModules: src/QJSEngine
  Install:            true
  XOCamlbuildExtraArgs:
    "-docflags '-colorize-code -charset utf-8 -hide QJSEngine -hide Pervasives'"
